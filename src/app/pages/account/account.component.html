<div class="account-container">
  <div class="row">
    <div class="col-12 col-md-3">
      <h2 class="mat-h2">{{ 'accounts' | translate }}</h2>
    </div>
    <div class="col-12 col-md-9 text-right">
      <input
        #fileInput
        type="file"
        (change)="onFileChanged($event)"
        style="display: none"
        accept="application/JSON"
      />
      <button mat-flat-button color="primary" (click)="onOpenAddAccount()">
        <i matPrefix class="fa fa-plus"></i>
        <span>{{ 'add new account' | translate }}</span>
      </button>
      <button style="margin-left: 10px;" mat-flat-button color="primary" (click)="onImportAccount()">
        <i matPrefix class="fa fa-file-import"></i>
        <span>{{ 'import' | translate }}</span>
      </button>
    </div>
  </div>
  <br />

  <div class="account-list">
    <mat-card style="padding: 0">
      <ng-container *ngFor="let acc of accounts; index as i">
        <div class="account">
          <div class="select-address">
            <div class="btn-select" *ngIf="currAcc.address == acc.address; else elseAcc">
              <i class="fa fa-check-circle"></i>
            </div>
            <ng-template #elseAcc>
              <div class="btn-select" (click)="onSwitchAccount(acc)">
                <i class="far fa-circle"></i>
              </div>
            </ng-template>
          </div>

          <div class="address-information">
            <div class="name">
              {{ acc.name }}
              <span class="badge" color="primary" *ngIf="acc.type == 'multisig'">{{
                'multisignature' | translate
              }}</span>
            </div>
            <div class="address" *ngIf="acc.type == 'normal'">
              <wallet-address [value]="acc.address"></wallet-address>
            </div>

            <ng-container *ngIf="acc.type == 'multisig'">
              <div class="address">
                <p class="label">{{ 'address' | translate }}:</p>
                <wallet-address [value]="acc.address"></wallet-address>
              </div>
              <div class="address">
                <p class="label">{{ 'signedby' | translate }}:</p>
                <wallet-address [value]="acc.signByAddress"></wallet-address>
              </div>
            </ng-container>
          </div>

          <div class="action">
            <button
              mat-flat-button
              matTooltip="Account Dataset"
              matTooltipPosition="below"
              class="icon-btn accent"
              (click)="onOpenAccDataSet(acc)"
            >
              <i class="fas fa-address-card"></i>
            </button>

            <button
              mat-flat-button
              matTooltip="Multi Signature Detail"
              matTooltipPosition="below"
              class="icon-btn accent"
              (click)="onOpenMultisigInfoDialog(acc)"
              *ngIf="acc.type == 'multisig'"
            >
              <i class="fas fa-file-signature"></i>
            </button>
            <ng-container>
              <button
                mat-flat-button
                matTooltip="Edit"
                matTooltipPosition="below"
                class="icon-btn primary"
                (click)="onOpenEditAccount(acc)"
              >
                <i class="fas fa-pen"></i>
              </button>
            </ng-container>
            <button
              mat-flat-button
              matTooltip="Delete Account"
              matTooltipPosition="below"
              class="icon-btn warn"
              *ngIf="acc.type == 'multisig'"
              (click)="onDelete(i)"
            >
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
      </ng-container>
    </mat-card>
  </div>
</div>
