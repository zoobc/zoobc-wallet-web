<div class="login-container">
  <div class="login-box">
    <img src="/assets/img/icon-zbc.png" alt="" />
    <h2 class="mat-h4">{{ 'welcome to zoobc app' | translate }}</h2>
    <p>{{ 'the easy way to spend and receive zoobc' | translate }}</p>
    <ng-container *ngIf="!hasAccount">
      <a routerLink="/signup" mat-flat-button color="primary">
        {{ 'create new wallet' | translate }}
      </a>
      <a routerLink="/open-wallet" mat-stroked-button color="white">
        {{ 'restore wallet' | translate }}
      </a>

      <a [disabled]="isLoadingImport" (click)="importAccount()" mat-flat-button color="primary">
        <span class="text" *ngIf="!isLoadingImport">{{ 'import account' | translate }}</span>
        <span class="text" *ngIf="isLoadingImport">{{ 'waiting response' | translate }}</span>
      </a>
    </ng-container>

    <ng-container *ngIf="hasAccount && !isLoggedIn">
      <form [formGroup]="formLoginPin" (submit)="onLoginPin()">
        <mat-label>{{ 'please enter your pin' | translate }}</mat-label>
        <br />
        <field-pins #pin formControlName="pin" (keyup)="onChangePin()"></field-pins>
        <mat-error *ngIf="pinForm.hasError('invalid')">
          {{ 'pin invalid' | translate }}
        </mat-error>
        <div class="spiner" *ngIf="isLoading">
          <i class="fas fa-circle-notch fa-spin"></i>
        </div>
        <button style="margin-top: 8px;" routerLink="/signup" mat-flat-button color="primary">
          {{ 'create new wallet' | translate }}
        </button>
        <button style="margin-top: 8px;" routerLink="/open-wallet" mat-stroked-button="primary">
          {{ 'open another wallet' | translate }}
        </button>

        <button
          [disabled]="isLoadingImport"
          type="button"
          style="margin-top: 8px;"
          (click)="importAccount()"
          mat-flat-button
          color="primary"
        >
          <i matPrefix class="fas fa-circle-notch fa-spin" *ngIf="isLoadingImport"></i>
          <span class="text" *ngIf="!isLoadingImport">{{ 'import account' | translate }}</span>
          <span class="text" *ngIf="isLoadingImport">{{ 'waiting response' | translate }}</span>
        </button>
      </form>
    </ng-container>
  </div>
</div>
