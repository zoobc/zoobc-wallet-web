<div class="row">
  <div class="col-12 text-right">
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Transaction Type</mat-label>
      <mat-select [value]="txType" (selectionChange)="onFilter($event.value)">
        <mat-option [value]="1">Send Coin</mat-option>
        <mat-option [value]="2">Register Node</mat-option>
        <mat-option [value]="256">Update Node</mat-option>
        <mat-option [value]="514">Remove Node</mat-option>
        <mat-option [value]="770">Claim Node</mat-option>
        <mat-option [value]="3">Setup Account Dataset</mat-option>
        <mat-option [value]="259">Remove Account Dataset</mat-option>
        <mat-option [value]="4">Approval Escrow</mat-option>
        <mat-option [value]="5">Multi Signature</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</div>
<ng-container *ngIf="unconfirmTx && unconfirmTx.length > 0">
  <div class="row">
    <div class="col-10">
      <h2 class="mat-h2">{{ 'pending transaction' | translate }}</h2>
    </div>
    <div class="col-2 text-right">
      <button mat-icon-button class="reload-button" (click)="getTx(true)">
        <i class="fa fa-redo-alt"></i>
      </button>
    </div>
  </div>
  <app-transaction-table [transactionData]="unconfirmTx"></app-transaction-table>
  <br />
</ng-container>

<div class="row">
  <div class="col-10">
    <h2 class="mat-h2 title">
      {{ 'transaction history' | translate }}
      <span class="text-refresh" *ngIf="!isError && !isLoading"
        >( {{ 'last refresh' | translate }}: {{ lastRefresh | dateAgo }} )</span
      >
    </h2>
  </div>
  <div class="col-2 text-right">
    <button mat-icon-button class="reload-button" (click)="getTx(true)">
      <i class="fa fa-redo-alt"></i>
    </button>
  </div>
</div>

<div
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollThrottle]="50"
  (scrolled)="onScroll()"
  [scrollWindow]="false"
  [infiniteScrollContainer]="'.mat-drawer-content'"
  [fromRoot]="true"
>
  <transaction-list
    [transactionData]="accountHistory"
    [isLoading]="isLoading"
    [isError]="isError"
    (refresh)="getTx(true)"
    [txType]="txType"
  ></transaction-list>
</div>
