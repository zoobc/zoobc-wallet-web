<div class="text-right">
  <mat-form-field appearance="outline" color="accent">
    <mat-label>{{ 'transaction type' | translate }}</mat-label>
    <mat-select [value]="txType" (selectionChange)="onFilter($event.value)">
      <mat-option [value]="undefined">{{ 'show all' | translate }}</mat-option>
      <mat-option [value]="1">{{ 'send money' | translate }}</mat-option>
      <mat-option [value]="2">{{ 'register node' | translate }}</mat-option>
      <mat-option [value]="258">{{ 'update node' | translate }}</mat-option>
      <mat-option [value]="514">{{ 'remove node' | translate }}</mat-option>
      <mat-option [value]="770">{{ 'claim node' | translate }}</mat-option>
      <mat-option [value]="3">{{ 'setup account dataset' | translate }}</mat-option>
      <mat-option [value]="259">{{ 'remove account dataset' | translate }}</mat-option>
      <mat-option [value]="4">{{ 'escrow approval' | translate }}</mat-option>
      <mat-option [value]="5">{{ 'multisignature' | translate }}</mat-option>
    </mat-select>
  </mat-form-field>
</div>
<ng-container *ngIf="unconfirmTx && unconfirmTx.length > 0 && !isLoading && !isError">
  <mat-card class="transaction-list">
    <div class="row">
      <div class="col-8">
        <div class="transaction-title">
          <span><i class="fa fa-history"></i></span>
          <span class="title">{{ 'pending transaction' | translate }}</span>
        </div>
      </div>
      <div class="col-4 text-right">
        <button mat-icon-button class="reload-button" (click)="getTx(true)">
          <i class="fa fa-redo-alt"></i>
        </button>
      </div>
    </div>
    <mat-divider></mat-divider>
    <transaction-list
      [transactionData]="unconfirmTx"
      [isLoading]="isLoading"
      [isError]="isError"
      (refresh)="getTx(true)"
    ></transaction-list>
  </mat-card>
  <br />
</ng-container>

<mat-card class="transaction-list">
  <div class="row">
    <div class="col-8">
      <div class="transaction-title">
        <span><i class="fa fa-history"></i></span>
        <span class="title">{{ 'transaction history' | translate }}</span>
        <span class="timestamp" *ngIf="!isLoading && !isError">({{ lastRefresh | dateAgo }})</span>
      </div>
    </div>
    <div class="col-4 text-right">
      <button mat-icon-button class="reload-button" (click)="getTx(true)">
        <i class="fa fa-redo-alt"></i>
      </button>
    </div>
  </div>
  <mat-divider></mat-divider>
  <div infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="50" (scrolled)="onScroll()">
    <transaction-list
      [transactionData]="accountHistory"
      [isLoading]="isLoading"
      [isError]="isError"
      (refresh)="getTx(true)"
    ></transaction-list>
  </div>
</mat-card>
