<div class="transaction-item hover row" (click)="openDetail(transaction.id)">
  <div class="col-12 col-sm-8">
    <div class="label">{{ 'node public key' | translate }}:</div>
    <div class="address">
      <wallet-address [value]="transaction.txBody.nodepublickey"></wallet-address>
    </div>
    <div class="date">{{ transaction.timestamp | dateAgo }}</div>
  </div>
  <div class="col-12 col-sm-4 text-right">
    <div
      class="amount-send"
      title="{{ 'locked balance' | translate }}"
      *ngIf="transaction.txBody.lockedbalance"
    >
      - {{ transaction.txBody.lockedbalance / 1e8 | number: '0.0-8' }} ZBC
    </div>
    <div class="fee">
      - {{ transaction.fee / 1e8 | number: '0.0-8' }}
      <small>ZBC {{ 'fee' | translate }}</small>
    </div>
  </div>
</div>

<ng-template #dialog>
  <div class="transaction-detail-container" *ngIf="transaction && !isLoading">
    <div class="row" *ngIf="transaction.transactionHash">
      <div class="col-12 col-md-4">{{ 'transaction hash' | translate }}:</div>
      <div class="col-12 col-md-8">
        <a [href]="expUrl + transaction.id" target="_blank">
          <wallet-address [value]="transaction.transactionHash"></wallet-address>
        </a>
      </div>
    </div>
    <div class="row" *ngIf="transaction.blockId">
      <div class="col-12 col-md-4">{{ 'block id' | translate }}:</div>
      <div class="col-12 col-md-8 font-roboto-mono">{{ transaction.blockId }}</div>
    </div>

    <div class="row">
      <div class="col-12 col-md-4">{{ 'node public key' | translate }}:</div>
      <div class="col-12 col-md-8">
        <wallet-address [value]="transaction.txBody.nodepublickey"></wallet-address>
      </div>
    </div>

    <div class="row" *ngIf="transaction.txBody.accountaddress">
      <div class="col-12 col-md-4">{{ 'account address' | translate }}:</div>
      <div class="col-12 col-md-8">
        <wallet-address [value]="transaction.txBody.accountaddress"></wallet-address>
      </div>
    </div>

    <div class="row" *ngIf="transaction.txBody.lockedbalance">
      <div class="col-12 col-md-4">{{ 'locked balance' | translate }}:</div>
      <div class="col-12 col-md-8">{{ transaction.txBody.lockedbalance / 1e8 | number: '0.0-8' }} ZBC</div>
    </div>

    <div class="row">
      <div class="col-12 col-md-4">{{ 'fee' | translate }}:</div>
      <div class="col-12 col-md-8">{{ transaction.fee / 1e8 | number: '0.0-8' }} ZBC</div>
    </div>

    <div class="row" *ngIf="transaction.height">
      <div class="col-12 col-md-4">{{ 'height' | translate }}:</div>
      <div class="col-12 col-md-8">{{ transaction.height | number }}</div>
    </div>

    <div class="row" *ngIf="transaction.transactionIndex">
      <div class="col-12 col-md-4">{{ 'transaction index' | translate }}:</div>
      <div class="col-12 col-md-8">{{ transaction.transactionIndex }}</div>
    </div>

    <div class="row">
      <div class="col-12 col-md-4">{{ 'transaction type' | translate }}:</div>
      <ng-container *ngIf="transaction.transactionType == 2">
        <div class="col-12 col-md-8">{{ 'register node' | translate }}</div>
      </ng-container>
      <ng-container *ngIf="transaction.transactionType == 258">
        <div class="col-12 col-md-8">{{ 'update node registration' | translate }}</div>
      </ng-container>
      <ng-container *ngIf="transaction.transactionType == 514">
        <div class="col-12 col-md-8">{{ 'remove node registration' | translate }}</div>
      </ng-container>
      <ng-container *ngIf="transaction.transactionType == 770">
        <div class="col-12 col-md-8">{{ 'claim node registration' | translate }}</div>
      </ng-container>
    </div>

    <div class="row">
      <div class="col-12 col-md-4">{{ 'date' | translate }}:</div>
      <div class="col-12 col-md-8 font-roboto-mono">
        {{ transaction.timestamp | date: 'dd MMMM yyyy HH:mm:ss' }}
      </div>
    </div>
  </div>
</ng-template>
